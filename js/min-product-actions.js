for(var cartButtons=document.querySelectorAll(".store-product__product-action--add-product"),cartBlock=document.querySelector(".main-header__cart-block"),productsCounter=document.querySelector(".main-header__counter--cart-counter"),bookmarkButtons=document.querySelectorAll(".store-product__product-action--add-bookmark"),bookmarksCounter=document.querySelector(".main-header__counter--bookmarks-counter"),bookmarksBlock=document.querySelector(".main-header__bookmarks-block"),searchInput=document.querySelector(".main-header__search-field"),modalCartContent=document.querySelector(".modal--cart-add-content"),modalCartContainer=document.querySelector(".modal--cart-add"),buttonCloseCard=modalCartContent.querySelector(".modal__button-close"),buttonContinue=document.querySelector(".modal--cart-add__continue-select"),shopLogoLink=document.querySelector(".main-header__logo-link"),shopLogoBlock=document.querySelector(".main-header__logo-block"),cardTitle=modalCartContainer.querySelector("h2"),makingPurchase=document.querySelector(".modal--cart-add__buy-complete"),addCountAction=function(o,e,t,n){o.addEventListener("click",function(){e.classList.contains(t)||e.classList.add(t),o.classList.contains("store-product__product-action--add-product")&&(modalCartContent.classList.add("modal--cart-show"),modalCartContainer.classList.add("overlay-active"),buttonContinue.focus(),document.body.style.overflow="hidden"),updateCounter(n)})},updateCounter=function(o){var e=o.innerHTML;e=+e+1,o=o.innerHTML=e},i=0;i<cartButtons.length;i++)addCountAction(cartButtons[i],cartBlock,"main-header__cart-block--product-add",productsCounter);for(i=0;i<bookmarkButtons.length;i++)addCountAction(bookmarkButtons[i],bookmarksBlock,"main-header__bookmarks-block--bookmark-add",bookmarksCounter);searchInput.addEventListener("focusout",function(){searchInput.value&&searchInput.classList.add("main-header__search-field--text-add"),searchInput.value||searchInput.classList.remove("main-header__search-field--text-add")});var modalClose=function(){modalCartContent.classList.remove("modal--cart-show"),modalCartContainer.classList.remove("overlay-active"),document.body.style.overflow="auto"};buttonCloseCard.addEventListener("click",function(){modalClose()}),buttonCloseCard.addEventListener("keydown",function(o){13===o.keyCode&&modalClose(),9===o.keyCode&&o.shiftKey&&makingPurchase.focus()}),window.addEventListener("keydown",function(o){27===o.keyCode&&(o.preventDefault(),modalClose())}),buttonContinue.addEventListener("click",function(){modalClose()}),buttonContinue.addEventListener("keydown",function(o){13===o.keyCode&&modalClose(),9===o.keyCode&&(cardTitle.focus(),o.shiftKey&&makingPurchase.focus())}),shopLogoLink.addEventListener("focus",function(){shopLogoBlock.style.background="#ca2c37"}),shopLogoLink.addEventListener("blur",function(){shopLogoBlock.style.background="#ee3643"});
